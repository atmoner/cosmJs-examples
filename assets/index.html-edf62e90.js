import{_ as r}from"./plugin-vue_export-helper-c27b6911.js";import{r as c,o as u,c as d,b as n,d as s,a,w as t,e as i}from"./app-e820ed15.js";const k={},m=i(`<h2 id="install-cosmjs" tabindex="-1"><a class="header-anchor" href="#install-cosmjs" aria-hidden="true">#</a> Install cosmJs</h2><p>Create nodejs projet</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> cosmos-projet
<span class="token builtin class-name">cd</span> cosmos-projet
<span class="token function">yarn</span> init <span class="token parameter variable">-y</span>
<span class="token function">touch</span> app.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Let&#39;s explore what is new for Stargate support:</p>`,4),v={href:"https://www.npmjs.com/package/@cosmjs/proto-signing",target:"_blank",rel:"noopener noreferrer"},b={href:"https://www.npmjs.com/package/@cosmjs/stargate",target:"_blank",rel:"noopener noreferrer"},h={href:"https://www.npmjs.com/package/@cosmjs/tendermint-rpc",target:"_blank",rel:"noopener noreferrer"},g=n("p",null,[s("Here, we will use only "),n("code",null,"@cosmjs/tendermint-rpc"),s(" to try to connect and query a blockchain. So install it:")],-1),f=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"yarn"),s(),n("span",{class:"token function"},"add"),s(` @cosmjs/tendermint-rpc
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),_=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"npm"),s(` i @cosmjs/tendermint-rpc
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),w=i(`<h2 id="configure-you-client-cosmjs" tabindex="-1"><a class="header-anchor" href="#configure-you-client-cosmjs" aria-hidden="true">#</a> Configure you client cosmJs</h2><p>For this, you will need a public rpc node. You can use https://cosmos.directory/</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Tendermint37Client <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@cosmjs/tendermint-rpc&quot;</span>

<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">await</span> Tendermint37Client<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&#39;https://rpc.cosmos.directory/cosmoshub&#39;</span><span class="token punctuation">)</span> 
<span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// Get node info</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>nodeInfo<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="hint-container details"><summary>Result</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  id<span class="token operator">:</span> Uint8Array(<span class="token number">20</span>) <span class="token punctuation">[</span>
    <span class="token number">186</span><span class="token punctuation">,</span> <span class="token number">172</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">,</span> <span class="token number">221</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span>  <span class="token number">64</span><span class="token punctuation">,</span>
      <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span>  <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span>  <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">184</span><span class="token punctuation">,</span>
    <span class="token number">250</span><span class="token punctuation">,</span>  <span class="token number">37</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span>  <span class="token number">71</span><span class="token punctuation">,</span>  <span class="token number">53</span><span class="token punctuation">,</span>  <span class="token number">11</span><span class="token punctuation">,</span>
     <span class="token number">99</span><span class="token punctuation">,</span>  <span class="token number">54</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  listenAddr<span class="token operator">:</span> &#39;tcp<span class="token operator">:</span><span class="token comment">//0.0.0.0:26656&#39;,</span>
  network<span class="token operator">:</span> &#39;cosmoshub<span class="token number">-4</span>&#39;<span class="token punctuation">,</span>
  version<span class="token operator">:</span> &#39;<span class="token number">0.34</span>.<span class="token number">29</span>&#39;<span class="token punctuation">,</span>
  channels<span class="token operator">:</span> &#39;<span class="token number">40202122233038606100</span>&#39;<span class="token punctuation">,</span>
  moniker<span class="token operator">:</span> &#39;NodeStake&#39;<span class="token punctuation">,</span>
  other<span class="token operator">:</span> Map(<span class="token number">2</span>) <span class="token punctuation">{</span>
    &#39;tx_index&#39; =&gt; &#39;on&#39;<span class="token punctuation">,</span>
    &#39;rpc_address&#39; =&gt; &#39;tcp<span class="token operator">:</span><span class="token comment">//127.0.0.1:26657&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  protocolVersion<span class="token operator">:</span> <span class="token punctuation">{</span> app<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> block<span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> p2p<span class="token operator">:</span> <span class="token number">8</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>You can call many function from rpc client.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Tendermint37Client <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@cosmjs/tendermint-rpc&quot;</span>

<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">await</span> Tendermint37Client<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&#39;https://rpc.cosmos.directory/cosmoshub&#39;</span><span class="token punctuation">)</span> 
<span class="token keyword">const</span> abciInfo <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">abciInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> validators <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">validators</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Get abci info</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>abciInfo<span class="token punctuation">)</span>
<span class="token comment">// Get validators</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>validators<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),y={href:"https://github.com/cosmos/cosmjs/blob/main/packages/tendermint-rpc/src/tendermint37/tendermint37client.spec.ts",target:"_blank",rel:"noopener noreferrer"};function j(x,C){const e=c("ExternalLinkIcon"),l=c("CodeTabs");return u(),d("div",null,[m,n("ul",null,[n("li",null,[n("a",v,[s("@cosmjs/proto-signing"),a(e)]),s(", Wallet management and other functions")]),n("li",null,[n("a",b,[s("@cosmjs/stargate"),a(e)]),s(", Provides a high level client for querying, signing and broadcasting")]),n("li",null,[n("a",h,[s("@cosmjs/tendermint-rpc"),a(e)]),s(" Provides a high level client for querying")])]),g,a(l,{id:"30",data:[{id:"yarn"},{id:"npm"}],"tab-id":"shell"},{title0:t(({value:o,isActive:p})=>[s("yarn")]),title1:t(({value:o,isActive:p})=>[s("npm")]),tab0:t(({value:o,isActive:p})=>[f]),tab1:t(({value:o,isActive:p})=>[_]),_:1}),w,n("p",null,[s("You can find many example of use in "),n("a",y,[s("tendermint37client.spec.ts"),a(e)]),s(" file")])])}const T=r(k,[["render",j],["__file","index.html.vue"]]);export{T as default};
